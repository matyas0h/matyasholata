<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>matyasholata.cz</title>
<link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/js/all.min.js" crossorigin="anonymous"></script>
<style>
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Syne', sans-serif;
  }
  body {
    background-color: #050505;
    color: white;
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 20px;
  }
  .container {
    display: flex;
    gap: 40px;
    flex-wrap: wrap;
    max-width: 1200px;
    width: 100%;
    justify-content: center;
  }
  .info {
    max-width: 500px;
    display: flex;
    flex-direction: column;
    gap: 20px;
  }
  .logo img {
    width: 60px;
    margin-bottom: -20px;
  }
  h1 {
    font-weight: 800;
    font-size: 2rem;
  }
  p {
    font-size: 1.3rem;
    line-height: 1.5;
  }
  .fullstack {
    font-weight: 700;
    cursor: pointer;
    position: relative;
    display: inline-flex;
    align-items: center;
    gap: 5px;
  }
  .fullstack i {
    font-style: italic;
  }
  .dropdown {
    position: absolute;
    top: 110%;
    left: 0;
    background: #111;
    padding: 15px 20px;
    border-radius: 10px;
    opacity: 0;
    visibility: hidden;
    transform: translateY(-10px);
    transition: all 0.3s ease;
    width: 220px;
    font-size: 0.95rem;
    z-index: 10;
  }
  .fullstack:hover .dropdown {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
  }
  .playing {
    font-weight: 800;
    font-size: 1.5rem;
  }
  .contact-row {
    display: flex;
    align-items: center;
    gap: 20px;
  }
  .email {
    display: inline-flex;
    align-items: center;
    gap: 10px;
    background: white;
    color: black;
    padding: 10px 20px;
    border-radius: 50px;
    font-weight: 500;
    text-decoration: none;
  }
  .socials {
    display: flex;
    gap: 15px;
    font-size: 1.5rem;
  }
  .socials a {
    color: white;
    transition: 0.2s;
  }
  .card {
    position: relative;
    width: 400px;
    border-radius: 30px;
    overflow: hidden;
    border: 2px solid white;
  }
  .card img {
    width: 100%;
  }
  .card-content {
    padding: 20px;
    background: #050505;
  }
  .card h2 {
    font-weight: 700;
    font-size: 1.3rem;
    margin-bottom: 5px;
  }
  .scrolling-text {
    font-weight: 800;
    font-size: 2rem;
    white-space: nowrap;
    overflow: hidden;
  }
  .scrolling-text span {
    display: inline-block;
    animation: scroll 12s linear infinite;
  }
  .site-with-icon {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 1.1rem;
    margin: 0;
  }
  .site-with-icon img {
    width: 20px;
    height: 20px;
  }
  @keyframes scroll {
    0% { transform: translateX(0); }
    100% { transform: translateX(-50%); }
  }
  @media (max-width: 600px) {
    body {
      padding: 10px;
    }
    .container {
      flex-direction: column;
      gap: 30px;
      align-items: center;
    }
    .info {
      max-width: 100%;
      text-align: center;
      align-items: center;
    }
    .contact-row {
      flex-direction: column;
      gap: 15px;
    }
    .card {
      width: 100%;
      max-width: 360px;
    }
    .scrolling-text {
      font-size: 1.6rem;
    }
  }
</style>
</head>
<body>
<div class="container">
  <div class="info">
    <div class="logo"><img src="https://matyasholata.cz/mh-ico.png"></div>
    <h1>matyasholata.cz</h1>
    <p>
      Full-Stack <u title="Full-stack je vývojář, který umí vytvářet jak viditelnou část aplikace, tak i její zázemí na serveru.">(?)</u> vývoj a design webů.
    </p>
<p class="playing">
    <span id="status-label">PRÁVĚ MÁM:</span><br>
    <span id="status-text" style="font-weight:600;">volno</span>
</p>
    <div class="contact-row">
      <a class="email" href="mailto:matyasholata0@gmail.com"><i class="fa-solid fa-envelope"></i> matyasholata0@gmail.com</a>
      <div class="socials">
        <a href="https://www.instagram.com/matyasholata/" target="_blank"><i class="fa-brands fa-instagram"></i></a>
        <a href="https://github.com/matyas0h" target="_blank"><i class="fa-brands fa-github"></i></a>
        <a href="mailto:matyasholata0@gmail.com"><i class="fa-solid fa-envelope"></i></a>
      </div>
    </div>
  </div>
  <div class="card">
    <div class="card-content" style="padding:20px; background:#050505; border-bottom:2px solid white;">
      <h2 style="margin:0; font-size:1.4rem;">Etiketa do škol</h2>
      <div class="site-with-icon">
        <p style="margin:0;">etiketadoskol.cz</p>
        <img src="https://matyasholata.cz/ke.png" alt="mh icon">
      </div>
    </div>

    <img style="filter: grayscale(100%); margin-bottom:15px;" src="https://raw.githubusercontent.com/matyas0h/matyasholata/c95bb78b9a566eb2f5169b05b73edef82319a984/nbnmmnn.png">

    <a href="https://etiketadoskol.cz/" style="text-decoration:none;">
      <div class="scrolling-text" style="background:white; color:black; padding:15px 0; text-align:center;">
        <span>PROHLÍDNOUT • PROHLÍDNOUT • PROHLÍDNOUT • PROHLÍDNOUT • PROHLÍDNOUT • PROHLÍDNOUT • PROHLÍDNOUT • PROHLÍDNOUT • PROHLÍDNOUT • PROHLÍDNOUT • PROHLÍDNOUT • PROHLÍDNOUT • PROHLÍDNOUT • PROHLÍDNOUT • PROHLÍDNOUT • </span>
      </div>
    </a>
  </div>
</div>
</body>
<script>
/* -----------------------------------------
   FIXED SCHEDULE (matches your screenshot)
----------------------------------------- */
const schedule = {
  "MONDAY": ["Německý jazyk","Anglický jazyk","Matematika","Čeština","Chemie","Fyzika"],
  "TUESDAY": ["Dějepis","Čeština","Anglický jazyk","Zeměpis","Matematika","Odpolední pauza","Tělocvik","Hudební výchova"],
  "WEDNESDAY": ["ŠČ","Fyzika","Německý jazyk","Čeština","Přírodopis","Tělocvik","Informatika"],
  "THURSDAY": ["Matematika","Zeměpis","Německý jazyk","Dějepis","Čeština","Odpolední pauza","Výtvarná výchova","Občanská výchova"],
  "FRIDAY": ["Zdravotní výchova","Výtvarná výchova","Přírodopis","Chemie","Anglický jazyk","Matematika","Praktické činnosti"]
};

/* -----------------------------------------
   HOURS WITH BREAKS
----------------------------------------- */
const hours = [
  "07:00-07:45",
  "08:00-08:45",
  "08:55-09:40",
  "10:00-10:45",
  "10:55-11:40",
  "11:50-12:35",
  "12:45-13:30",
  "13:40-14:25",
  "14:35-15:20",
  "15:30-16:15",
  "16:30-17:10",
  "17:20-18:05"
];

const labelEl = document.getElementById("status-label");
const statusEl = document.getElementById("status-text");

let dot = 0;
let loading = true;

/* -----------------------------------------
   Loading animation
----------------------------------------- */
function animateLoading() {
  if (!loading) return;
  const dots = ["Načítání.","Načítání..","Načítání..."];
  statusEl.textContent = dots[dot];
  dot = (dot + 1) % dots.length;
}
setInterval(animateLoading, 400);

/* -----------------------------------------
   Find lesson OR break
----------------------------------------- */
function getCurrentLesson() {
  const now = new Date();
  const day = now.toLocaleString("en-US", { weekday: "long" }).toUpperCase();

  if (!schedule[day]) return null;

  const min = now.getHours() * 60 + now.getMinutes();

  let previousEnd = null;

  for (let i = 0; i < hours.length; i++) {
    const [start, end] = hours[i].split("-");
    const [sh, sm] = start.split(":").map(Number);
    const [eh, em] = end.split(":").map(Number);

    const s = sh * 60 + sm;
    const e = eh * 60 + em;

    // check break BEFORE this lesson
    if (previousEnd !== null && min > previousEnd && min < s) {
      return "volno (přestávka)";
    }

    // inside a lesson
    if (min >= s && min <= e) {
      const subject = schedule[day][i];
      return subject === "Odpolední pauza" ? "volno" : subject;
    }

    previousEnd = e;
  }

  return null;
}

/* -----------------------------------------
   Simplest working STEAM STATUS FETCH
----------------------------------------- */
async function getSteamGame() {
  try {
    const url = "https://steamcommunity.com/id/ydaratit/?xml=1";

    const res = await fetch(
      "https://api.allorigins.win/raw?url=" +
      encodeURIComponent(url)
    );

    const xmlText = await res.text();
    const xml = new DOMParser().parseFromString(xmlText, "text/xml");
    const state = xml.querySelector("stateMessage");

    if (!state) return null;

    const raw = state.textContent.trim();

    if (!raw.startsWith("In-Game")) return null;

    return raw.replace("In-Game", "").replace(/<br\s*\/?>/gi, "").trim();

  } catch {
    return null;
  }
}

/* -----------------------------------------
   MAIN STATUS UPDATE
----------------------------------------- */
async function updateStatus() {
  const lesson = getCurrentLesson();

  if (lesson) {
    loading = false;
    labelEl.textContent = "PRÁVĚ MÁM:";
    statusEl.innerHTML = lesson;
    return;
  }

  const game = await getSteamGame();
  if (game) {
    loading = false;
    labelEl.textContent = "PRÁVĚ HRAJU:";

    const googleUrl = "https://www.google.com/search?q=" + encodeURIComponent(game);

    statusEl.innerHTML = `
      ${game}
  <span id="searchIcon" style="cursor:pointer; margin-left:8px; vertical-align:middle; color:#fff;">
    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 640 640">
          <path fill="currentColor" d="M480 272C480 317.9 465.1 360.3 440 394.7L566.6 521.4C579.1 533.9 579.1 554.2 566.6 566.7C554.1 579.2 533.8 579.2 521.3 566.7L394.7 440C360.3 465.1 317.9 480 272 480C157.1 480 64 386.9 64 272C64 157.1 157.1 64 272 64C386.9 64 480 157.1 480 272zM272 416C351.5 416 416 351.5 416 272C416 192.5 351.5 128 272 128C192.5 128 128 192.5 128 272C128 351.5 192.5 416 272 416z"/></path>
    </svg>
  </span>
    `;

    document.getElementById("searchIcon").onclick = () => {
      window.open(googleUrl, "_blank");
    };

    return;
  }

  loading = false;
  labelEl.textContent = "PRÁVĚ MÁM:";
  statusEl.textContent = "volno";
}

updateStatus();
setInterval(updateStatus, 3000);
</script>
</html>
















