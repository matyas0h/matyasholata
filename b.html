<!DOCTYPE html>
<html>
<head>
  <title>Consent Example</title>
  <style>
    #consent {
      position: fixed;
      bottom: 0;
      width: 100%;
      background: #111;
      color: white;
      padding: 15px;
      text-align: center;
    }
    button {
      padding: 8px 14px;
      margin-left: 10px;
    }
  </style>
</head>
<body>

<div id="consent" style="display:none;">
  This site collects your IP address for logging purposes.
  <button onclick="acceptConsent()">I Agree</button>
</div>

<script>
  if (!document.cookie.includes("ipConsent=true")) {
    document.getElementById("consent").style.display = "block";
  }

  function acceptConsent() {
    document.cookie = "ipConsent=true; max-age=31536000; path=/";
    document.getElementById("consent").style.display = "none";

    fetch("/log-consent", {
      method: "POST"
    });
  }
</script>

</body>
</html>
